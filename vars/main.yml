---

actions:

  # Deployment actions
  - install:
      description : "Installatie van laatste versie van Hashicorp Vault. Basis configuratie."
      icon : "media/icon_vault.png"
      parameters:
            - uninstall
            - vault_repository_url
            - vault_repository_tag
            - vault_repository_checksum
            - vault_repository_checksum_algorithm
            - vault_container_name
            - vault_container_ports
            - vault_container_volumes
            - vault_data_dir
            - platform

  - uninstall:
      description : "De-installatie van Hashicorp Vault. Verwijderd de container, bestanden, gebruikers en groepen."
      icon : "media/icon_vault.png"

  - update:
      description : "Update van Hashicorp Vault naar laatste versie."
      icon : "media/icon_vault.png"

  - configure:
      description : "Configureer Vault. Maak een token en unseal keys aan. Unseal Vault."
      icon : "media/icon_vault.png"

  # Administration actions
  - start:
      description : "Start Vault."
      icon : "media/icon_vault.png"

  - stop:
      description : "Stop Vault."
      icon : "media/icon_vault.png"

  - unseal:
      description : "Unseal Vault."
      icon : "media/icon_vault.png"
      parameters:
        - vault_address
        - vault_unseal_keys

  # Secret engine actions
  - get_secret_engine:
      description : "Haal de configuratie van een secret engine op."
      icon : "media/icon_vault.png"

  - create_secret_engine:
      description : "Maak een secret engine"
      icon : "media/icon_vault.png"

  - destroy_secret_engine:
      description : "Verwijder een secret engine."
      icon : "media/icon_vault.png"

  # Secret actions
  - get_secret:
      description : "Haal een secret op."
      icon : "media/icon_vault.png"

  - create_secret:
      description : "Maak een secret aan."
      icon : "media/icon_vault.png"

  - destroy_secret:
      description : "Verwijder een secret."
      icon : "media/icon_vault.png"

  - import_secrets:
      description : "Importeer een secret in Vault."
      icon : "media/icon_vault.png"

  - export_secrets:
      description : "Exporteer een secret uit Vault."
      icon : "media/icon_vault.png"

  # Policy actions
  - get_policy:
      description : "Haal de configuratie van een policy op."
      icon : "media/icon_vault.png"

  - create_policy:
      description : "Maak een policy aan."
      icon : "media/icon_vault.png"

  - destroy_policy:
      description : "Verwijder een policy."
      icon : "media/icon_vault.png"

  # AppRole actions
  - get_approle:
      description : "Haal de configuratie van een approle op."
      icon : "media/icon_vault.png"

  - create_approle:
      description : "Maak een approle aan."
      icon : "media/icon_vault.png"

  - destroy_approle:
      description : "Verwijder een approle."
      icon : "media/icon_vault.png"

vault:
  id: ""
  vault_name: "vault"


install_properties:
  - vault_repository_url
  - vault_repository_url_description : "URL met locatie van repository. Kan een url zijn of pad naar lokaal bestand."
  - vault_repository_url_required : true
  - vault_repository_tag
  - vault_repository_tag_description : "Release of versienummer van het image. Standaard is 'latest'."
  - data_dir
  - data_dir_description : "Folder waarin de data van Vault wordt opgeslagen."
  - platform
  - platform_description : "installeer op specifiek platform, bijvoorbeeld podman, kubernetes, linux. Standaard is autodetect."
  - uninstall
  - uninstall_description : "Start de-installatie voordat de installatie wordt gestart. true/false. Standaard is 'true'."

update_properties:
  - vault_repository_url
  - vault_repository_url_description : "URL met locatie van container repository. Kan een url zijn of pad naar lokaal bestand."
  - vault_repository_url_required : true
  - vault_repository_tag
  - vault_repository_tag_description : "Release of versienummer van het image. Standaard is 'latest'."
  - platform
  - platform_description : "Update op specifiek platform, bijvoorbeeld podman, kubernetes, linux. Standaard is autodetect."

unseal_properties:
  - vault_address
  - vault_address_description : "URL naar Vault, bijvoorbeeld `https://192.168.1.0:8200`."
  - vault_address_required : true
  - vault_unseal_keys
  - vault_unseal_keys_description : "Unseal keys van Vault. Dit zijn de keys die zijn gegenereerd tijdens de installatie."
  - vault_unseal_keys_required : true


export_secrets_properties:
  - vault_address
  - vault_address_description : "URL naar Vault, bijvoorbeeld `https://192.168.1.0:8200`"
  - vault_address_required : true
  - vault_token
  - vault_token_description : "Token voor toegang tot Vault."
  - vault_token_required : true
  - vault_name
  - vault_name_description : "Naam van de vault (secret_engine) om secrets te exporteren."
  - vault_name_required : true
  - secret_name
  - secret_name_description : "Secret naam"
  - secret_name_required : true
  - file_name
  - file_name_description : "Bestandsnaam voor export secrets."
  - file_name_required : true


rolevars:
  - vault_address
  - vault_token
